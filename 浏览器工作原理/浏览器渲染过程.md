# 浏览器渲染

浏览器渲染分为以下步骤(包括但不限于)

1. 构建 HTML 树(DOM 树)
2. 构建 CSS 树(CSSOM 树)
3. 合并两棵树为一棵(Render Tree)
4. Layout 布局(文档流/盒模型/大小/位置等计算)主动要 HTML 布局相关
5. parint 绘制(颜色/阴影等)主要动 css 绘制相关属性
6. compsite 合并 根据层叠关系展示页面

当打开页面时,浏览器会通过渲染引擎执行上述操作,最终形成一个页面。

当使用 JavaScript 更新样式时，又分为以下三种渲染方式

<img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5c053fb8e2194fe6bc25f1b6b4943901~tplv-k3u1fbpfcp-watermark.awebp" alt="img" style="zoom:50%;" />

根据渲染规则，我们可以发现，假设我把 html 改变了（位置、盒模型、大小）等有关的 css 或本身（删除节点），这一过程可能会经过 layout 布局阶段。

但是如果我们只是改变了 background-color，那么就可能不会经过 layout，会直接经过 paint 绘制阶段。

如果我们用了 transform，那么既不会经过 layout 布局阶段，又不会经过 paint 阶段。会直接到达合成阶段 compsite。（虽然有可能改变位置、大小。）

这样做的结果是浏览器整个渲染效率提高了。
